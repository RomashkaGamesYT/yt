(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3331],{34455:function(e,t,s){"use strict";s.d(t,{E:function(){return i}});var n=s(57437),a=s(50116);let i=e=>{let{children:t}=e,s=(0,a.useMessages)(),i=(0,a.useLocale)(),l=(0,a.useTimeZone)();return(0,n.jsx)(a.NextIntlClientProvider,{locale:i,messages:s,timeZone:l,children:t})}},17394:function(e,t,s){"use strict";s.d(t,{AR:function(){return i},Ks:function(){return a}}),s(15355);var n=s(31162);(0,n.$)("12c068672709cf4b47c6b0043c3d6495d4729270");var a=(0,n.$)("12bf15d53427eff374a8fa258707cbc0d372972a"),i=(0,n.$)("43909ae714d7bca39ab9e057947d0387a07bd998")},33331:function(e,t,s){"use strict";s.d(t,{o:function(){return r},R:function(){return n.useSearch}});var n=s(36773),a=s(57437),i=s(1398),l=s(34455);let r=e=>(0,a.jsx)(l.E,{children:(0,a.jsx)(i.Search,{...e})})},36773:function(e,t,s){"use strict";s.r(t),s.d(t,{useSearch:function(){return i}});var n=s(2265),a=s(24033);function i(e){let{getData:t,state:s,setNullableState:i}=e,l=(0,a.useSearchParams)(),[r,c]=(0,n.useState)(null);(0,n.useEffect)(()=>{((null==l?void 0:l.has("query"))||(null==l?void 0:l.has("filter"))&&r!==l)&&(t(),c(l)),(null==l?void 0:l.has("query"))||(null==l?void 0:l.has("filter"))||void 0===s||(i&&i(),c(null))},[l])}},1398:function(e,t,s){"use strict";s.r(t),s.d(t,{Search:function(){return P}});var n=s(57437),a=s(81918),i=s(11193),l=s(2265),r=s(16691),c=s.n(r),o=s(24033),u=s(5279),h=s(23618),d=s.n(h),f=s(50116),_=s(42744),x=s.n(_),p=s(89276);let w=e=>{let{isOpen:t,close:s,key:n}=e,a=(0,l.useCallback)(e=>{n&&e.key===n?s():"Escape"!==e.key||n||s()},[s]);(0,l.useEffect)(()=>(t&&window.addEventListener("keydown",a),()=>{window.removeEventListener("keydown",a)}),[t,a])};var m=s(83272),S=s.n(m),g=s(97020),b=s(92332),v=s(7381);function j(e){return"mainFilters"in e}let F=e=>{let{searchParams:t,handleChip:s,behavior:i,isNotDesktop:r,isSearchOpen:o,searchFilters:u}=e,h=(0,f.useTranslations)("search"),[d,_]=(0,l.useState)(""),p=e=>{let{el:a,icon:l,labelClassName:r,children:c}=e;return(0,n.jsx)(g.A,{defaultChecked:t.has("filter",a),checked:"faq"===i||"faqFilters"===i?d===a:void 0,onClick:"faq"===i||"faqFilters"===i?void 0:s(a),icon:l,color:"black",variant:"filled",radius:200,classNames:{label:r},styles:{root:{display:"flex"},iconWrapper:{width:"min-content"}},children:"faq"===i||"faqFilters"===i?(0,n.jsx)(v.rU,{offset:-200,to:a,spy:!0,onSetActive:()=>_(a),children:c}):c})};return(0,n.jsxs)(a.Flex,{component:"nav",id:"newsFilters",align:"center",gap:8,wrap:r?"genreFilters"===i?"wrap":void 0:"wrap",style:{paddingBottom:"news"===i?0:void 0},className:x()(S().chips,{[S().activeSearchChips]:o}),children:[j(u)&&!o&&u.mainFilters.map((e,t)=>(0,n.jsx)(p,{el:e,icon:(0,n.jsx)(c(),{src:"/closeIcon.svg",alt:"",width:12,height:12}),labelClassName:x()(S().newsLabel,{},[S().label]),children:(0,n.jsx)(b.Text,{fw:700,className:S().newsText,children:h(e)})},t)),j(u)&&!o&&u.subFilters.map((e,t)=>(0,n.jsx)(p,{el:e,icon:(0,n.jsx)(c(),{src:"/closeIcon.svg",alt:"",width:12,height:12}),labelClassName:x()(S().newsSubLabel,{},[S().label]),children:(0,n.jsx)(b.Text,{fw:700,className:S().newsSubText,children:h(e)})},t)),Array.isArray(u)&&!o&&u.map((e,t)=>(0,n.jsx)(p,{el:"string"==typeof e?e:e.code,icon:"faq"===i||"faqDetails"===i||"faqFilters"===i?(0,n.jsx)(n.Fragment,{}):(0,n.jsx)(c(),{src:"/closeIcon.svg",alt:"",width:12,height:12}),labelClassName:"genreFilters"===i?x()(S().genreLabel,{},[S().label]):S().oldLabel,children:(0,n.jsx)(b.Text,{fz:"genreFilters"===i?"sm":14,lh:"genreFilters"===i?"sm":"16px",fw:"genreFilters"===i?void 0:500,pb:3,children:"string"==typeof e?h(e):e.name})},t))]})};s(34930);var k=s(3489),C=s.n(k),I=s(54593),N=s(17906),q=s(40676),y=s(94069);let T=e=>{var t,s;let{isSearchOpen:i,insideChips:r,setIsSearchOpen:o,handleChange:u,searchParams:h}=e,d=(0,f.useTranslations)("search"),[_,p]=(0,l.useState)(null!==(s=null===(t=h.get("query"))||void 0===t?void 0:t.toString())&&void 0!==s?s:""),m=(0,l.useCallback)(()=>{o(!1),""===_&&null===h.get("query")&&_===h.get("query")||u(_)},[u,h,o,_]);return w({key:"Enter",isOpen:i,close(){m()}}),(0,n.jsxs)(a.Flex,{justify:"flex-end",className:x()("",{[C().inputFieldActive]:i,[C().inputField]:!r}),children:[!i&&(0,n.jsx)(I.k,{onClick:()=>o(!0),className:C().searchIco,children:(0,n.jsx)(c(),{src:"/news/searchIco.svg",alt:"Поиск",width:20,height:20})}),i&&(0,n.jsx)(N.h,{target:"#pageLayout",children:(0,n.jsx)("div",{className:C().whiteBG,onClick:()=>{o(!1)}})}),i&&(0,n.jsx)(q.I,{autoFocus:!0,onChange:e=>p(e.target.value),value:_,placeholder:d("Найти"),w:"100%",leftSection:(0,n.jsx)(c(),{src:"/news/searchIco.svg",alt:"",width:20,height:20}),rightSection:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(I.k,{onClick:()=>p(""),children:(0,n.jsx)(c(),{src:"/news/close.svg",alt:"",width:20,height:20})}),(0,n.jsx)(y.l,{onClick:m,text:"Найти",variant:"filled",className:C().findButton,textClassName:C().findButtonText})]}),rightSectionPointerEvents:"all",radius:6,classNames:{input:C().newsInput,wrapper:C().newsInputWrapper,section:C().newsInputSection},styles:{section:{width:"min-content"}}})]})},B=()=>{let e=(0,o.useSearchParams)(),{replace:t}=(0,u.tv)(),s=(0,u.jD)();return(0,l.useCallback)(n=>{let a=new URLSearchParams(null==e?void 0:e.toString());a.delete(n),t("".concat(s,"?").concat(a.toString()))},[s,t,e])};var L=s(17394);let P=e=>{let{withoutInput:t=!1,searchFilters:s,behavior:r,className:h}=e;(0,f.useTranslations)("search");let[_,m]=(0,l.useState)(void 0),[S,g]=(0,l.useState)(!1),b=B(),v=(0,p.a)("(max-width: 991px)"),j=(0,o.useSearchParams)(),k=(0,u.jD)(),{back:C,push:I}=(0,u.tv)();w({isOpen:S,close(){g(!1)}});let N=async()=>{let e=await (0,L.Ks)();e&&m(e.map(e=>{let{name:t,code:s}=e;return{code:s,name:t}}))};(0,l.useEffect)(()=>{"faqFilters"!==r&&"faqDetails"!==r||_||s||N()},[r,_,s]);let q=(0,l.useCallback)(e=>{if(e.length>=3){let t=new URLSearchParams(null==j?void 0:j.toString());e?t.set("query",e):t.delete("query"),I("".concat(k,"?").concat(t.toString()))}else b("query")},[b,k,I,j]),P=(0,l.useCallback)(e=>()=>{let t=new URLSearchParams(null==j?void 0:j.toString());switch(r){case"faqDetails":I("/faq#".concat(e));break;case"newsDetails":t.append("filter",e),I("/news?".concat(t.toString()));break;default:t.has("filter",e)?t.delete("filter",e):t.append("filter",e),I("".concat(k,"?").concat(t.toString()))}},[r,k,I,j]);return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(a.Flex,{direction:"column",gap:16,className:x()(d().main,{[d().mainNews]:"news"===r||"faq"===r||"faqDetails"===r||"newsDetails"===r},[h]),children:[!t&&(0,n.jsx)(T,{isSearchOpen:S,setIsSearchOpen:g,handleChange:q,searchParams:j}),(s||_&&("faqFilters"===r||"faqDetails"===r))&&(0,n.jsx)(()=>{let e=()=>(0,n.jsx)(F,{searchFilters:"faqFilters"===r||"faqDetails"===r?_:s,searchParams:j,isSearchOpen:S,behavior:r,handleChip:P,isNotDesktop:v});switch(r){case"faqDetails":case"newsDetails":if(!v)return(0,n.jsxs)(a.Flex,{direction:"column",gap:8,children:[(0,n.jsx)(y.l,{text:"Назад",onClick:()=>C(),fw:700,icon:(0,n.jsx)(c(),{src:"/leftArrow.svg",alt:"",width:16,height:16}),iconPosition:"left",className:d().backButton,textClassName:d().backButtonText}),(0,n.jsx)(e,{})]});return(0,n.jsx)(i.x,{classNames:d(),children:(0,n.jsxs)(a.Flex,{gap:4,children:[(0,n.jsx)(y.l,{text:"Назад",onClick:()=>C(),fw:700,icon:(0,n.jsx)(c(),{src:"/leftArrow.svg",alt:"",width:16,height:16}),iconPosition:"left",className:d().backButton,textClassName:d().backButtonText}),(0,n.jsx)(e,{})]})});case"faq":case"news":if(!v)return(0,n.jsx)(e,{});return(0,n.jsx)(i.x,{classNames:d(),children:(0,n.jsxs)(a.Flex,{children:[(0,n.jsx)(T,{insideChips:!0,isSearchOpen:S,setIsSearchOpen:g,handleChange:q,searchParams:j}),(0,n.jsx)(e,{})]})});case"genreFilters":return(0,n.jsx)(e,{});default:return(0,n.jsx)(i.x,{children:(0,n.jsx)(e,{})})}},{})]})})}},94069:function(e,t,s){"use strict";s.d(t,{l:function(){return h}});var n=s(57437),a=s(42744),i=s.n(a),l=s(2265),r=s(89195),c=s(92332),o=s(19796),u=s.n(o);let h=(0,l.memo)(e=>{let{variant:t="filled",fw:s,fz:a,text:l,className:o,lh:h,textClassName:d,icon:f,iconPosition:_="right",dataId:x,...p}=e;return(0,n.jsxs)(r.z,{classNames:{label:i()("",{[u().withIcon]:f})},className:i()(u().btn,{},[o,u()[t]]),...p,"data-yt":x,children:["left"===_&&f&&f,(0,n.jsx)(c.Text,{fw:s,fz:a,lh:h,className:d,children:l}),"right"===_&&f&&f]})});h.displayName="CustomizedButton"},73983:function(e,t,s){"use strict";s.d(t,{c:function(){return a},k:function(){return n}});let n=["ru","uz"],a="always"},5279:function(e,t,s){"use strict";s.d(t,{jD:function(){return l},tv:function(){return r}});var n=s(73983);let{Link:a,redirect:i,usePathname:l,useRouter:r}=(0,s(47906).iV)({locales:n.k,localePrefix:n.c})},34930:function(){},23618:function(e){e.exports={main:"Search_main__t2aIC",mainNews:"Search_mainNews__g84eT",input:"Search_input__0eYQR",scrollbar:"Search_scrollbar__V8ki9",viewport:"Search_viewport__znkiw",activeSearchChips:"Search_activeSearchChips__4SJ0A",backButton:"Search_backButton__deUVb",backButtonText:"Search_backButtonText__XNXFw"}},83272:function(e){e.exports={chips:"SearchFilters_chips__NTPJc",label:"SearchFilters_label__kNDXI",newsSubText:"SearchFilters_newsSubText__A_uK_",newsSubLabel:"SearchFilters_newsSubLabel__X4_CD",newsLabel:"SearchFilters_newsLabel__TgJcU",newsText:"SearchFilters_newsText__ky0HI",genreLabel:"SearchFilters_genreLabel__iZWPb",oldLabel:"SearchFilters_oldLabel__sP_mi"}},3489:function(e){e.exports={inputFieldActive:"SearchInput_inputFieldActive__o937H",findButton:"SearchInput_findButton__39YR8",findButtonText:"SearchInput_findButtonText___TVgG",whiteBG:"SearchInput_whiteBG__wbIgi",searchIco:"SearchInput_searchIco__oqHEF",newsInput:"SearchInput_newsInput__Tu8it",newsInputSection:"SearchInput_newsInputSection__F4xpU",inputField:"SearchInput_inputField__KTq8S"}},19796:function(e){e.exports={btn:"CustomizedButton_btn__HfJg_",withIcon:"CustomizedButton_withIcon__wWfnl",filled:"CustomizedButton_filled__P5fWH",outline:"CustomizedButton_outline__sBlZY",default:"CustomizedButton_default__kse3x","alternative-outline":"CustomizedButton_alternative-outline__A9OVx"}}}]);